{"ast":null,"code":"var _jsxFileName = \"D:\\\\belHard\\\\JavaScript\\\\GitHub\\\\fan_fiction1\\\\client\\\\src\\\\components\\\\Dashboard\\\\ManageUserDialog.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport UploadFiles from '../UploadFile/Upload-Files';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport { getUsers, updateUsers } from \"../../Services/User/User_Service\";\nimport Swal from 'sweetalert2';\nimport { DataGrid, GridToolbar } from \"@material-ui/data-grid\";\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport Grid from '@material-ui/core/Grid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(MuiDialogTitle, {\n    disableTypography: true,\n    className: classes.root,\n    ...other,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), onClose ? /*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"close\",\n      className: classes.closeButton,\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n});\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2)\n  }\n}))(MuiDialogContent);\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1)\n  }\n}))(MuiDialogActions);\nexport default function ManageUserDialog(props) {\n  _s();\n\n  const {\n    manageUserDialog,\n    dialogClose,\n    loggedInUser\n  } = props;\n  const [userList, setUserList] = React.useState([]);\n\n  const deleteClick = row => {\n    setUserList(userList.filter(item => item.username !== row.username));\n  };\n\n  const handleChange = (row, e) => {\n    userList.forEach(item => {\n      if (item.username === row.username) {\n        item['role'] = e.target.value;\n      }\n    });\n    setUserList(userList);\n  };\n\n  const handleEditCellChangeCommitted = update => {\n    const {\n      id,\n      field,\n      props\n    } = update;\n    userList.forEach(item => {\n      if (item.id === id) {\n        item[field] = props.value;\n      }\n    });\n    setUserList(userList);\n  };\n\n  const columns = [{\n    field: \"username\",\n    headerName: \"User Name\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.15,\n    cellClassName: 'GridCells',\n    editable: true\n  }, {\n    field: \"email\",\n    headerName: \"Email\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.27,\n    cellClassName: 'GridCells',\n    editable: true\n  }, {\n    field: \"firstname\",\n    headerName: \"First Name\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.15,\n    cellClassName: 'GridCells',\n    editable: true\n  }, {\n    field: \"lastname\",\n    headerName: \"Last Name\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.15,\n    cellClassName: 'GridCells',\n    editable: true\n  }, {\n    field: \"role\",\n    headerName: \"Role\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.10,\n    cellClassName: 'GridCells',\n    editable: true,\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-placeholder-label-label\",\n        id: \"demo-simple-select-placeholder-label\",\n        value: params.row.role,\n        onChange: e => {\n          handleChange(params.row, e);\n        },\n        displayEmpty: true,\n        name: \"role\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'User',\n          children: \"User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'Admin',\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    field: \"action\",\n    headerName: \"Action\",\n    headerClassName: 'super-app-theme--header',\n    flex: 0.10,\n    cellClassName: 'GridCells',\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          \"aria-label\": \"delete\",\n          onClick: () => deleteClick(params.row),\n          style: {\n            marginLeft: '5px'\n          },\n          children: /*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }, this);\n    }\n  }];\n\n  const onMount = () => {\n    getUsers().then(resp => {\n      if (resp.data.status === 200) {\n        setUserList(resp.data.users);\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: `${resp.data.message}`\n        });\n      }\n    });\n  };\n\n  const saveChanges = () => {\n    updateUsers(userList).then(resp => {\n      if (resp.data.status === 200) {\n        Swal.fire({\n          icon: 'success',\n          title: 'Successful',\n          text: `Data Updated Successfully.`\n        });\n        dialogClose(true);\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: `${resp.data.message}`\n        });\n      }\n    });\n  };\n\n  useEffect(onMount, []);\n\n  const handleClose = () => {\n    dialogClose(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      onClose: handleClose,\n      \"aria-labelledby\": \"customized-dialog-title\",\n      open: manageUserDialog,\n      fullWidth: true,\n      maxWidth: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"customized-dialog-title\",\n        onClose: handleClose,\n        children: \"Mangage User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: 400,\n                width: \"100%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(DataGrid, {\n                autoHeight: true,\n                rows: userList,\n                columns: columns,\n                disableMultipleSelection: true,\n                onEditCellChangeCommitted: handleEditCellChangeCommitted\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          autoFocus: true,\n          onClick: saveChanges,\n          color: \"primary\",\n          children: \"Save changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ManageUserDialog, \"XZtmH22gSBQm+njpQReo0puLaas=\");\n\n_c = ManageUserDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageUserDialog\");","map":{"version":3,"sources":["D:/belHard/JavaScript/GitHub/fan_fiction1/client/src/components/Dashboard/ManageUserDialog.js"],"names":["React","useEffect","withStyles","Button","Dialog","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Typography","TextField","UploadFiles","Select","InputLabel","MenuItem","FormHelperText","FormControl","getUsers","updateUsers","Swal","DataGrid","GridToolbar","DeleteOutlineIcon","Grid","styles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","formControl","minWidth","selectEmpty","marginTop","DialogTitle","props","children","classes","onClose","other","DialogContent","DialogActions","ManageUserDialog","manageUserDialog","dialogClose","loggedInUser","userList","setUserList","useState","deleteClick","row","filter","item","username","handleChange","e","forEach","target","value","handleEditCellChangeCommitted","update","id","field","columns","headerName","headerClassName","flex","cellClassName","editable","renderCell","params","role","marginLeft","onMount","then","resp","data","status","users","fire","icon","title","text","message","saveChanges","handleClose","height","width"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport UploadFiles from '../UploadFile/Upload-Files';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { getUsers, updateUsers } from \"../../Services/User/User_Service\";\r\nimport Swal from 'sweetalert2';\r\nimport { DataGrid, GridToolbar } from \"@material-ui/data-grid\";\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            ) : null}\r\n        </MuiDialogTitle>\r\n    );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(1),\r\n    },\r\n}))(MuiDialogActions);\r\n\r\nexport default function ManageUserDialog(props) {\r\n    const {\r\n        manageUserDialog,\r\n        dialogClose,\r\n        loggedInUser,\r\n    } = props;\r\n\r\n\r\n    const [userList, setUserList] = React.useState([]);\r\n   \r\n    const deleteClick = (row) => {\r\n        setUserList(userList.filter(item => item.username !== row.username));\r\n    };\r\n\r\n    const handleChange = (row, e) => {\r\n        userList.forEach((item) => {\r\n            if(item.username === row.username){\r\n                item['role'] = e.target.value\r\n            }\r\n        })\r\n        setUserList(userList);\r\n    };\r\n\r\n    const handleEditCellChangeCommitted = (update) => {\r\n        const { id, field, props} = update;\r\n\r\n        userList.forEach((item) => {\r\n            if(item.id === id){\r\n                item[field] = props.value\r\n            }\r\n        })\r\n        setUserList(userList);\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            field: \"username\",\r\n            headerName: \"User Name\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.15,\r\n            cellClassName: 'GridCells',\r\n            editable: true,\r\n        },\r\n        {\r\n            field: \"email\",\r\n            headerName: \"Email\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.27,\r\n            cellClassName: 'GridCells',\r\n            editable: true,\r\n        },\r\n        {\r\n            field: \"firstname\",\r\n            headerName: \"First Name\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.15,\r\n            cellClassName: 'GridCells',\r\n            editable: true,\r\n        },\r\n        {\r\n            field: \"lastname\",\r\n            headerName: \"Last Name\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.15,\r\n            cellClassName: 'GridCells',\r\n            editable: true,\r\n\r\n        },\r\n        {\r\n            field: \"role\",\r\n            headerName: \"Role\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.10,\r\n            cellClassName: 'GridCells',\r\n            editable: true,\r\n            renderCell: (params) => {\r\n                return (\r\n                    <Select\r\n                        labelId=\"demo-simple-select-placeholder-label-label\"\r\n                        id=\"demo-simple-select-placeholder-label\"\r\n                        value={params.row.role}\r\n                        onChange={(e) => {handleChange(params.row, e)}}\r\n                        displayEmpty\r\n                        name='role'\r\n                    >\r\n                        <MenuItem value={'User'}>User</MenuItem>\r\n                        <MenuItem value={'Admin'}>Admin</MenuItem>\r\n                    </Select>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            field: \"action\",\r\n            headerName: \"Action\",\r\n            headerClassName: 'super-app-theme--header',\r\n            flex: 0.10,\r\n            cellClassName: 'GridCells',\r\n            renderCell: (params) => {\r\n                return (\r\n                    <div>\r\n                        {/* <IconButton color=\"primary\" aria-label=\"edit\" onClick={() => editClick(params.row)} style={{ marginLeft: '5px' }}>\r\n                            <EditIcon />\r\n                        </IconButton> */}\r\n                        <IconButton color=\"primary\" aria-label=\"delete\" onClick={() => deleteClick(params.row)} style={{ marginLeft: '5px' }}>\r\n                            <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                    </div>\r\n                )\r\n\r\n            }\r\n        },\r\n\r\n    ];\r\n\r\n    const onMount = () => {\r\n        getUsers().then(resp => {\r\n            if (resp.data.status === 200) {\r\n                setUserList(resp.data.users);\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: `${resp.data.message}`,\r\n                })\r\n            }\r\n\r\n        })\r\n    };\r\n\r\n    const saveChanges = () => {\r\n        updateUsers(userList).then(resp => {\r\n            if(resp.data.status === 200){\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Successful',\r\n                    text: `Data Updated Successfully.`,\r\n                });\r\n                dialogClose(true);\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: `${resp.data.message}`,\r\n                })\r\n            }\r\n        })\r\n    };\r\n\r\n    useEffect(onMount, []);\r\n\r\n\r\n\r\n    const handleClose = () => {\r\n        dialogClose(true);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                onClose={handleClose}\r\n                aria-labelledby=\"customized-dialog-title\"\r\n                open={manageUserDialog}\r\n                fullWidth\r\n                maxWidth=\"lg\"\r\n            >\r\n                <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n                    Mangage User\r\n                </DialogTitle>\r\n                <DialogContent dividers>\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12}>\r\n                            <div style={{ height: 400, width: \"100%\" }} >\r\n                                <DataGrid\r\n                                    autoHeight={true}\r\n                                    rows={userList}\r\n                                    columns={columns}\r\n                                    disableMultipleSelection={true}\r\n                                    onEditCellChangeCommitted={handleEditCellChangeCommitted}\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button autoFocus onClick={saveChanges} color=\"primary\">\r\n                        Save changes\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n\r\n}"]},"metadata":{},"sourceType":"module"}