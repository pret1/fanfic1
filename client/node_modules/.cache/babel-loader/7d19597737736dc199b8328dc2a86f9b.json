{"ast":null,"code":"var _jsxFileName = \"D:\\\\belHard\\\\JavaScript\\\\GitHub\\\\fan_fiction1\\\\client\\\\src\\\\components\\\\UploadFile\\\\Upload-Files.js\";\nimport React, { Component } from \"react\";\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { Box, Typography, Button, ListItem, withStyles } from '@material-ui/core';\nimport UploadService from \"../../../src/Services/UplaodFiles/UploadFile_Service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BorderLinearProgress = withStyles(theme => ({\n  root: {\n    height: 15,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor: \"#EEEEEE\"\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: '#1a90ff'\n  }\n}))(LinearProgress);\nexport default class UploadFiles extends Component {\n  constructor(props) {\n    super(props);\n    this.selectFile = this.selectFile.bind(this);\n    this.upload = this.upload.bind(this);\n    this.state = {\n      selectedFiles: undefined,\n      currentFile: undefined,\n      progress: 0,\n      message: \"\",\n      isError: false,\n      fileInfos: []\n    };\n  }\n\n  componentDidMount() {\n    UploadService.getFiles().then(response => {\n      this.setState({\n        fileInfos: response.data\n      });\n    });\n  }\n\n  selectFile(event) {\n    this.setState({\n      selectedFiles: event.target.files\n    });\n  }\n\n  upload() {\n    let currentFile = this.state.selectedFiles[0];\n    this.setState({\n      progress: 0,\n      currentFile: currentFile\n    });\n    UploadService.upload(currentFile, event => {\n      this.setState({\n        progress: Math.round(100 * event.loaded / event.total)\n      });\n    }).then(response => {\n      this.setState({\n        message: response.data.message,\n        isError: false\n      });\n      return UploadService.getFiles();\n    }).then(files => {\n      this.setState({\n        fileInfos: files.data\n      });\n    }).catch(() => {\n      this.setState({\n        progress: 0,\n        message: \"Could not upload the file!\",\n        currentFile: undefined,\n        isError: true\n      });\n    });\n    this.setState({\n      selectedFiles: undefined\n    });\n  }\n\n  render() {\n    const {\n      selectedFiles,\n      currentFile,\n      progress,\n      message,\n      fileInfos,\n      isError\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mg20\",\n      children: [currentFile && /*#__PURE__*/_jsxDEV(Box, {\n        className: \"mb25\",\n        display: \"flex\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          width: \"100%\",\n          mr: 1,\n          children: /*#__PURE__*/_jsxDEV(BorderLinearProgress, {\n            variant: \"determinate\",\n            value: progress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          minWidth: 35,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: `${progress}%`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"btn-upload\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"btn-upload\",\n          name: \"btn-upload\",\n          style: {\n            display: 'none'\n          },\n          type: \"file\",\n          onChange: this.selectFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-choose\",\n          variant: \"outlined\",\n          component: \"span\",\n          children: \"Choose Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-name\",\n        children: selectedFiles && selectedFiles.length > 0 ? selectedFiles[0].name : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginTop: '10px'\n        },\n        className: \"btn-upload\",\n        color: \"primary\",\n        variant: \"contained\",\n        component: \"span\",\n        disabled: !selectedFiles,\n        onClick: this.upload,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        className: `upload-message ${isError ? \"error\" : \"\"}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: fileInfos && fileInfos.map((file, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: true,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: file.url,\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/belHard/JavaScript/GitHub/fan_fiction1/client/src/components/UploadFile/Upload-Files.js"],"names":["React","Component","LinearProgress","Box","Typography","Button","ListItem","withStyles","UploadService","BorderLinearProgress","theme","root","height","borderRadius","colorPrimary","backgroundColor","bar","UploadFiles","constructor","props","selectFile","bind","upload","state","selectedFiles","undefined","currentFile","progress","message","isError","fileInfos","componentDidMount","getFiles","then","response","setState","data","event","target","files","Math","round","loaded","total","catch","render","display","length","name","marginTop","map","file","index","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { Box, Typography, Button, ListItem, withStyles } from '@material-ui/core';\r\n\r\nimport UploadService from \"../../../src/Services/UplaodFiles/UploadFile_Service\";\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 15,\r\n    borderRadius: 5,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor: \"#EEEEEE\",\r\n  },\r\n  bar: {\r\n    borderRadius: 5,\r\n    backgroundColor: '#1a90ff',\r\n  },\r\n}))(LinearProgress);\r\n\r\nexport default class UploadFiles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.selectFile = this.selectFile.bind(this);\r\n    this.upload = this.upload.bind(this);\r\n\r\n    this.state = {\r\n      selectedFiles: undefined,\r\n      currentFile: undefined,\r\n      progress: 0,\r\n      message: \"\",\r\n      isError: false,\r\n      fileInfos: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    UploadService.getFiles().then((response) => {\r\n      this.setState({\r\n        fileInfos: response.data,\r\n      });\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    this.setState({\r\n      selectedFiles: event.target.files,\r\n    });\r\n  }\r\n\r\n  upload() {\r\n    let currentFile = this.state.selectedFiles[0];\r\n\r\n    this.setState({\r\n      progress: 0,\r\n      currentFile: currentFile,\r\n    });\r\n\r\n    UploadService.upload(currentFile, (event) => {\r\n      this.setState({\r\n        progress: Math.round((100 * event.loaded) / event.total),\r\n      });\r\n    })\r\n      .then((response) => {\r\n        this.setState({\r\n          message: response.data.message,\r\n          isError: false\r\n        });\r\n        return UploadService.getFiles();\r\n      })\r\n      .then((files) => {\r\n        this.setState({\r\n          fileInfos: files.data,\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.setState({\r\n          progress: 0,\r\n          message: \"Could not upload the file!\",\r\n          currentFile: undefined,\r\n          isError: true\r\n        });\r\n      });\r\n\r\n    this.setState({\r\n      selectedFiles: undefined,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      selectedFiles,\r\n      currentFile,\r\n      progress,\r\n      message,\r\n      fileInfos,\r\n      isError\r\n    } = this.state;\r\n    \r\n    return (\r\n      <div className=\"mg20\">\r\n        {currentFile && (\r\n          <Box className=\"mb25\" display=\"flex\" alignItems=\"center\">\r\n            <Box width=\"100%\" mr={1}>\r\n              <BorderLinearProgress variant=\"determinate\" value={progress} />\r\n            </Box>\r\n            <Box minWidth={35}>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">{`${progress}%`}</Typography>\r\n            </Box>\r\n          </Box>)\r\n        }\r\n\r\n        <label htmlFor=\"btn-upload\">\r\n          <input\r\n            id=\"btn-upload\"\r\n            name=\"btn-upload\"\r\n            style={{ display: 'none' }}\r\n            type=\"file\"\r\n            onChange={this.selectFile} />\r\n          <Button\r\n            className=\"btn-choose\"\r\n            variant=\"outlined\"\r\n            component=\"span\" >\r\n             Choose Files\r\n          </Button>\r\n        </label>\r\n        <div className=\"file-name\">\r\n        {selectedFiles && selectedFiles.length > 0 ? selectedFiles[0].name : null}\r\n        </div>\r\n        <Button\r\n        style={{marginTop: '10px'}}\r\n          className=\"btn-upload\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          component=\"span\"\r\n          disabled={!selectedFiles}\r\n          onClick={this.upload}>\r\n          Upload\r\n        </Button>\r\n\r\n        <Typography variant=\"subtitle2\" className={`upload-message ${isError ? \"error\" : \"\"}`}>\r\n          {message}\r\n        </Typography>\r\n\r\n        <ul className=\"list-group\">\r\n          {fileInfos &&\r\n            fileInfos.map((file, index) => (\r\n              <ListItem\r\n                divider\r\n                key={index}>\r\n                <a href={file.url}>{file.name}</a>\r\n              </ListItem>\r\n            ))}\r\n        </ul>\r\n      </div >\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}