{"ast":null,"code":"var _jsxFileName = \"D:\\\\belHard\\\\JavaScript\\\\GitHub\\\\fan_fiction1\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from './components/ProtectedRoute/ProtectedRoute';\nimport Login from './components/Login/Login';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Signup from './components/SignUp/SignUp';\nimport Header from './components/Common/Header/Header';\nimport Footer from './components/Common/Footer/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [userDetails, setUserDetails] = React.useState({\n    username: null,\n    email: null,\n    id: null,\n    accessToken: null\n  });\n\n  const isUserAuthenticated = data => {\n    if (data) {\n      localStorage.setItem('user', data.user.username);\n      setUserDetails(data.user);\n    }\n\n    ;\n    setIsAuthenticated(true);\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    setIsAuthenticated(true);\n  };\n\n  const handleLogout = e => {\n    e.preventDefault();\n    setIsAuthenticated(false);\n  };\n\n  const onMount = () => {\n    setUserDetails({ ...userDetails,\n      username: localStorage.getItem('user')\n    });\n  };\n\n  useEffect(onMount, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [isAuthenticated ? /*#__PURE__*/_jsxDEV(Header, {\n      userDetails: userDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 26\n    }, this) : null, /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          handleLogin: handleLogin,\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            isUserAuthenticated: isUserAuthenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/dashboard\",\n          children: /*#__PURE__*/_jsxDEV(Dashboard, {\n            handleLogout: handleLogout,\n            isAuthenticated: isAuthenticated,\n            isUserAuthenticated: isUserAuthenticated,\n            loggedInUser: userDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signup\",\n          handleLogout: handleLogout,\n          isAuthenticated: isAuthenticated,\n          component: Signup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Iv+r+qjOJmbJe2PBYbFipZwb/uQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/belHard/JavaScript/GitHub/fan_fiction1/client/src/App.js"],"names":["React","useEffect","useState","BrowserRouter","Route","Switch","ProtectedRoute","Login","Dashboard","Signup","Header","Footer","App","isAuthenticated","setIsAuthenticated","userDetails","setUserDetails","username","email","id","accessToken","isUserAuthenticated","data","localStorage","setItem","user","handleLogin","e","preventDefault","handleLogout","onMount","getItem"],"mappings":";;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,QAA6C,kBAA7C;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;;;AAGA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAEhB,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCd,KAAK,CAACE,QAAN,CAAe,KAAf,CAA9C;AACA,QAAM,CAACa,WAAD,EAAcC,cAAd,IAAgChB,KAAK,CAACE,QAAN,CAAe;AACnDe,IAAAA,QAAQ,EAAE,IADyC;AAEnDC,IAAAA,KAAK,EAAE,IAF4C;AAGnDC,IAAAA,EAAE,EAAE,IAH+C;AAInDC,IAAAA,WAAW,EAAE;AAJsC,GAAf,CAAtC;;AAOA,QAAMC,mBAAmB,GAAIC,IAAD,IAAU;AACpC,QAAIA,IAAJ,EAAU;AACRC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,IAAL,CAAUR,QAAvC;AACAD,MAAAA,cAAc,CAACM,IAAI,CAACG,IAAN,CAAd;AACD;;AAAA;AACDX,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD,GAND;;AAQA,QAAMY,WAAW,GAAGC,CAAC,IAAI;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACAd,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD,GAHD;;AAKA,QAAMe,YAAY,GAAGF,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAd,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACD,GAHD;;AAKA,QAAMgB,OAAO,GAAG,MAAM;AACpBd,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEbE,MAAAA,QAAQ,EAAEM,YAAY,CAACQ,OAAb,CAAqB,MAArB;AAFG,KAAD,CAAd;AAKD,GAND;;AAQA9B,EAAAA,SAAS,CAAC6B,OAAD,EAAU,EAAV,CAAT;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,eACGjB,eAAe,gBAAG,QAAC,MAAD;AAAQ,MAAA,WAAW,EAAEE;AAArB;AAAA;AAAA;AAAA;AAAA,YAAH,GAAyC,IAD3D,eAEE,QAAC,aAAD;AAAA,6BACE,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,GAAlB;AAAsB,UAAA,WAAW,EAAEW,WAAnC;AAAA,iCACE,QAAC,KAAD;AACE,YAAA,mBAAmB,EAAEL;AADvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,YAAlB;AAAA,iCACE,QAAC,SAAD;AAAW,YAAA,YAAY,EAAEQ,YAAzB;AAAuC,YAAA,eAAe,EAAEhB,eAAxD;AAAyE,YAAA,mBAAmB,EAAEQ,mBAA9F;AAAmH,YAAA,YAAY,EAAEN;AAAjI;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAPF,eAUE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,SAAlB;AAA4B,UAAA,YAAY,EAAEc,YAA1C;AAAwD,UAAA,eAAe,EAAEhB,eAAzE;AAA0F,UAAA,SAAS,EAAEJ;AAArG;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD,CAzDD;;GAAMG,G;;KAAAA,G;AA2DN,eAAeA,GAAf","sourcesContent":["import logo from './logo.svg';\r\nimport React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport ProtectedRoute from './components/ProtectedRoute/ProtectedRoute';\r\nimport Login from './components/Login/Login';\r\nimport Dashboard from './components/Dashboard/Dashboard';\r\nimport Signup from './components/SignUp/SignUp';\r\nimport Header from './components/Common/Header/Header';\r\nimport Footer from './components/Common/Footer/Footer';\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\r\n  const [userDetails, setUserDetails] = React.useState({\r\n    username: null,\r\n    email: null,\r\n    id: null,\r\n    accessToken: null\r\n  });\r\n\r\n  const isUserAuthenticated = (data) => {\r\n    if (data) { \r\n      localStorage.setItem('user', data.user.username);\r\n      setUserDetails(data.user);\r\n    };\r\n    setIsAuthenticated(true);\r\n  }\r\n\r\n  const handleLogin = e => {\r\n    e.preventDefault();\r\n    setIsAuthenticated(true);\r\n  }\r\n\r\n  const handleLogout = e => {\r\n    e.preventDefault();\r\n    setIsAuthenticated(false);\r\n  }\r\n\r\n  const onMount = () => {\r\n    setUserDetails({\r\n      ...userDetails,\r\n      username: localStorage.getItem('user')\r\n\r\n    })\r\n  };\r\n\r\n  useEffect(onMount, []);\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {isAuthenticated ? <Header userDetails={userDetails}/> : null}\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\" handleLogin={handleLogin}>\r\n            <Login\r\n              isUserAuthenticated={isUserAuthenticated}\r\n            />\r\n          </Route>\r\n          {/* <ProtectedRoute exact path=\"/dashboard\" handleLogout={handleLogout} isAuthenticated={isAuthenticated} component={Dashboard} /> */}\r\n          <Route exact path=\"/dashboard\">\r\n            <Dashboard handleLogout={handleLogout} isAuthenticated={isAuthenticated} isUserAuthenticated={isUserAuthenticated} loggedInUser={userDetails} />\r\n          </Route>\r\n          <Route exact path=\"/signup\" handleLogout={handleLogout} isAuthenticated={isAuthenticated} component={Signup} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n      {/* {isAuthenticated ? <Footer /> : null} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}